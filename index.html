<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multi-Application</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            padding: 20px;
        }

        h1 {
            text-align: center;
            color: #333;
        }

        #desktop-view-button {
            background-color: #28a745; /* Green color for the button */
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-bottom: 20px; /* Space below the button */
            display: block; /* Make the button a block element */
            text-align: center; /* Center the button text */
            width: 200px; /* Fixed width for the button */
            margin-left: auto; /* Center the button horizontally */
            margin-right: auto; /* Center the button horizontally */
        }

        #buttons {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            margin-bottom: 20px;
        }

        button {
            background-color: #007BFF;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
            flex: 1 1 calc(33% - 10px);
        }

        button:hover {
            background-color: #0056b3;
        }

        #output {
            background-color: #ffffff;
            border-radius: 5px;
            padding: 15px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            text-align: center;
            max-width: 600px;
            margin: 0 auto;
        }

        #quiz {
            margin: 20px auto;
            max-width: 600px;
            background-color: #ffffff;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.1);
        }

        #leaderboard, #progress {
            margin: 20px auto;
            max-width: 600px;
            background-color: #ffffff;
            padding: 10px;
            border-radius: 5px;
            box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.1);
        }

        progress {
            width: 100%;
        }

        #conversation {
            margin-bottom: 20px;
            padding: 10px;
            border: 1px solid white;
            border-radius: 5px;
            background-color: rgba(255, 255, 255, 0.1);
        }

        #toast {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background-color: #333;
            color: white;
            padding: 10px 20px;
            border-radius: 5px;
            display: none;
            z-index: 1000;
        }

        @media (max-width: 600px) {
            button {
                flex: 1 1 100%;
            }
        }
    </style>
</head>
<body>
    <button id="desktop-view-button" onclick="switchToDesktopView()">Switch to Desktop View</button>
    <div id="toast"></div>

    <h1>Mobile Device Information</h1>
    <div id="device-info">
        <div id="buttons">
            <button id="device-model">Device Model</button>
            <button id="screen-size">Screen Size</button>
            <button id="browser-info">Browser Info</button>
            <button id="battery-status">Battery Status</button>
            <button id="os-info">OS Information</button>
            <button id="device-orientation">Device Orientation</button>
            <button id="device-motion">Device Motion</button>
            <button id="geolocation">Geolocation</button>
            <button id="proximity-sensor">Proximity Sensor</button>
            <button id="network-info">Network Information</button>
            <button id="device-memory">Device Memory</button>
            <button id="media-capabilities">Media Capabilities</button>
        </div>
        <div id="output"></div>
    </div>

    <h1>Quiz</h1>
    <div id="quiz">
        <ul>
            <li><button onclick="startQuiz('science')">Science</button></li>
            <li><button onclick="startQuiz('entertainment')">Entertainment</button></li>
            <li><button onclick="startQuiz('family')">Family</button></li>
            <li><button onclick="startQuiz('creativity')">Creativity</button></li>
            <li><button onclick="startQuiz('fashion')">Fashion</button></li>
            <li><button onclick="startQuiz('art')">Art</button></li>
            <li><button onclick="startQuiz('general')">General Knowledge</button></li>
        </ul>
    </div>
    <div id="leaderboard"></div>
    <div id="progress"></div>

    <h1>Welcome to Cleveland's Chatbot!</h1>
    <section id="conversation">
        <label>Cleveland:</label> Hi! It's now <span id="currentTime"></span> and the location is <span id="currentLocation"></span>.<br>
    </section>
    <button onclick="getRandomFact()">Random Fact</button>

    <script>
        // Function to switch to desktop view
        function switchToDesktopView() {
            const viewportMetaTag = document.querySelector('meta[name="viewport"]');
            if (viewportMetaTag) {
                viewportMetaTag.setAttribute('content', 'width=1024'); // Change width to a fixed value
            }
            location.reload(); // Reload to apply the changes
        }

        // Mobile Device Information Script
        const outputContainer = document.getElementById("output");
        const toast = document.getElementById("toast");

        document.addEventListener("DOMContentLoaded", function() {
            document.querySelectorAll("#device-info button").forEach(function(button) {
                button.addEventListener("click", function() {
                    const buttonId = button.getAttribute("id");
                    outputContainer.innerHTML = ""; // Clear previous output

                    switch (buttonId) {
                        case "device-model":
                            const deviceModel = navigator.userAgent.match(/\b(iPhone|iPad|iPod|Android|Windows Phone|BlackBerry|Opera Mini|IEMobile)\b/);
                            typeText(`Device Model: ${deviceModel ? deviceModel[0] : 'Unknown Device Model'}`);
                            break;
                        case "screen-size":
                            typeText(`Screen Size: ${screen.width} x ${screen.height} pixels`);
                            break;
                        case "browser-info":
                            typeText(`Browser Info: ${navigator.userAgent}`);
                            break;
                        case "battery-status":
                            if ('getBattery' in navigator) {
                                navigator.getBattery().then(function(battery) {
                                    const batteryLevel = (battery.level * 100).toFixed(0);
                                    const charging = battery.charging ? 'Charging' : 'Not Charging';
                                    typeText(`Battery Status: ${batteryLevel}%, ${charging}`);
                                }).catch(() => {
                                    typeText('Unable to retrieve battery status.');
                                });
                            } else {
                                typeText('Battery status information is unavailable in this browser.');
                            }
                            break;
                        case "os-info":
                            if (navigator.userAgentData) {
                                navigator.userAgentData.getHighEntropyValues(["platform"]).then(ua => {
                                    typeText(`OS Information: ${ua.platform}`);
                                }).catch(() => {
                                    typeText(`OS Information: ${navigator.platform}`);
                                });
                            } else {
                                typeText(`OS Information: ${navigator.platform}`);
                            }
                            break;
                        case "device-orientation":
                            typeText(window.DeviceOrientationEvent ? 
                                'DeviceOrientationEvent is supported in this browser.' : 
                                'DeviceOrientationEvent is not supported in this browser.');
                            break;
                        case "device-motion":
                            typeText(window.DeviceMotionEvent ? 
                                'DeviceMotionEvent is supported in this browser.' : 
                                'DeviceMotionEvent is not supported in this browser.');
                            break;
                        case "geolocation":
                            if (navigator.geolocation) {
                                typeText('Geolocation is supported in this browser.');
                            } else {
                                typeText('Geolocation is not supported in this browser.');
                            }
                            break;
                        case "proximity-sensor":
                            typeText(window.DeviceProximityEvent ? 
                                'DeviceProximityEvent is supported in this browser.' : 
                                'DeviceProximityEvent is not supported in this browser.');
                            break;
                        case "network-info":
                            if (navigator.connection) {
                                const { effectiveType, downlink, rtt } = navigator.connection;
                                typeText(`Network Type: ${effectiveType}, Downlink: ${downlink} Mbps, RTT: ${rtt} ms`);
                            } else {
                                typeText('Network information is not available in this browser.');
                            }
                            break;
                        case "device-memory":
                            const memory = navigator.deviceMemory || 'Unknown';
                            typeText(`Device Memory: ${memory} GB`);
                            break;
                        case "media-capabilities":
                            if ('mediaCapabilities' in navigator) {
                                typeText('Media capabilities can be checked using the Media Capabilities API.');
                            } else {
                                typeText('Media Capabilities API is not supported in this browser.');
                            }
                            break;
                    }
                });
            });

            // Initialize time and location updates
            setInterval(updateCurrentTime, 1000);
            updateCurrentLocation();
        });

        function typeText(text) {
            outputContainer.innerHTML = ""; // Clear previous output
            const textArray = text.split("");
            let index = 0;

            const typingInterval = setInterval(() => {
                if (index < textArray.length) {
                    outputContainer.innerHTML += textArray[index];
                    index++;
                } else {
                    clearInterval(typingInterval);
                }
            }, 50);
        }

        // Quiz functionality
        const quizQuestions = {
            'science': [
                { question: 'What is your favorite element in the periodic table?', answer: 'hydrogen' },
                { question: 'What is the speed of light?', answer: '299792458' },
                { question: 'What is the chemical formula for water?', answer: 'h2o' }
            ],
            'entertainment': [
                { question: 'What is your favorite movie genre?', answer: 'action' },
                { question: 'Who directed the movie "Inception"?', answer: 'nolan' },
                { question: 'What is the longest-running TV show?', answer: 'the simpsons' }
            ],
            'family': [
                { question: 'What is your favorite family vacation spot?', answer: 'beach' },
                { question: 'What family tradition do you cherish the most?', answer: 'dinner' },
                { question: 'Who is the oldest family member?', answer: 'grandparent' }
            ],
            'creativity': [
                { question: 'What is your favorite medium to create art?', answer: 'paint' },
                { question: 'What inspires your creative projects?', answer: 'nature' },
                { question: 'What is your favorite type of music to listen to while creating?', answer: 'jazz' }
            ],
            'fashion': [
                { question: 'What is your favorite fashion accessory?', answer: 'watch' },
                { question: 'What color do you wear the most?', answer: 'black' },
                { question: 'Who is your favorite fashion designer?', answer: 'chanel' }
            ],
            'art': [
                { question: 'What is your favorite art medium?', answer: 'medium' },
                { question: 'Who is your favorite artist?', answer: 'artist' },
                { question: 'What piece of art inspires you the most?', answer: 'art' }
            ],
            'general': [
                { question: 'What is the capital of France?', answer: 'paris' },
                { question: 'Who wrote "Romeo and Juliet"?', answer: 'shakespeare' },
                { question: 'What is the largest planet in our solar system?', answer: 'jupiter' }
            ]
        };

        let currentQuestionIndex = 0;
        let currentCategory = '';

        function startQuiz(category) {
            currentQuestionIndex = 0; // Reset question index for a new category
            currentCategory = category; // Store current category
            typeText(`Starting quiz for ${category}.`); // Display typing effect for starting quiz

            setTimeout(() => {
                askQuestion();
            }, 2000); // Wait for 2 seconds after the quiz starts
        }

        function askQuestion() {
            if (currentQuestionIndex < quizQuestions[currentCategory].length) {
                const { question } = quizQuestions[currentCategory][currentQuestionIndex];
                typeText(`Question ${currentQuestionIndex + 1}: ${question} Please type your answer below:`);

                // Wait 4 seconds before showing the prompt
                setTimeout(() => {
                    const answer = prompt(`Question ${currentQuestionIndex + 1}: ${question} Please type your answer below:`);
                    if (answer) {
                        submitAnswer(answer);
                    } else {
                        typeText('Quiz cancelled.');
                    }
                }, 4000); // Wait for 4 seconds before showing the prompt
            } else {
                typeText('Quiz completed. Thank you for participating!');
            }
        }

        function submitAnswer(userAnswer) {
            const correctAnswer = quizQuestions[currentCategory][currentQuestionIndex].answer;
            const isCorrect = correctAnswer === userAnswer.toLowerCase();
            const quizOutput = isCorrect ? 
                `Congratulations on the correct answer! Your answer is: ${userAnswer}.` : 
                `Incorrect. The correct answer is: ${correctAnswer}. Your answer was: ${userAnswer}.`;

            typeText(quizOutput);

            // Move to the next question after 4 seconds
            setTimeout(() => {
                currentQuestionIndex++;
                askQuestion();
            }, 4000);
        }

        function getRandomFact() {
            // Logic for getting a random fact
            const randomFact = "Did you know? The Earth's rotation is gradually slowing!";
            typeText(randomFact);
        }

        // Update current time and location
        function updateCurrentTime() {
            const currentTime = new Date().toLocaleTimeString();
            document.getElementById("currentTime").innerText = currentTime;
        }

        function updateCurrentLocation() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(position => {
                    const { latitude, longitude } = position.coords;
                    document.getElementById("currentLocation").innerText = `Latitude: ${latitude}, Longitude: ${longitude}`;
                }, () => {
                    document.getElementById("currentLocation").innerText = 'Location access denied.';
                });
            } else {
                document.getElementById("currentLocation").innerText = 'Geolocation is not supported.';
            }
        }
    </script>
</body>
</html>
